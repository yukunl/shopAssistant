{"ast":null,"code":"import _defineProperty from \"/Users/a-kun/Desktop/639/dialogflow-beta-2020/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/a-kun/Desktop/639/dialogflow-beta-2020/src/components/CartReview.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport \"../styles/App.css\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"react-bootstrap/Button\";\nimport Card from \"react-bootstrap/Card\";\nimport Image from \"react-bootstrap/Image\";\nimport { TiHome } from \"react-icons/ti\";\n\nclass CartReview extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: []\n    };\n  }\n\n  async componentDidMount() {\n    let myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n    myHeaders.append(\"x-access-token\", localStorage.getItem('token'));\n    var requestOptions = {\n      method: 'GET',\n      headers: myHeaders,\n      redirect: 'follow'\n    };\n    let response = await fetch(window.$ENDPOINT_URL + '/application/products', requestOptions);\n    let result = await response.json();\n    this.setState({\n      products: result.products\n    });\n  }\n\n  render() {\n    if (this.state.products.length === 0) {\n      return React.createElement(React.Fragment, null, React.createElement(Link, {\n        to: '/' + this.props.username,\n        className: \"button\",\n        style: {\n          margin: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(TiHome, {\n        style: styles.homeIcon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        style: _objectSpread({}, styles.container, {\n          fontSize: 30\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, \"Looks like you don't have any items in your cart\"));\n    }\n\n    return React.createElement(React.Fragment, null, React.createElement(Link, {\n      to: '/' + this.props.username,\n      className: \"button\",\n      style: {\n        margin: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(TiHome, {\n      style: styles.homeIcon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: _objectSpread({}, styles.container, {\n        fontSize: 30\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      style: {\n        fontSize: 40\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Confirm your order\"), React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'row'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, this.getProducts()), \"Total: $\", this.getTotalPrice(), React.createElement(Link, {\n      to: '/' + this.props.username + '/cart-confirmed',\n      className: \"basic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"outline-dark\",\n      style: _objectSpread({}, styles.buttonStyle, {\n        marginTop: 20\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Confirm\"))));\n  }\n\n  getProducts() {\n    let products = [];\n\n    for (const product of this.state.products) {\n      products.push(React.createElement(Link, {\n        key: product.id,\n        to: '/' + this.props.username + '/' + product.category + '/products/' + product.id,\n        className: \"basic\",\n        style: {\n          margin: '1em'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(Card, {\n        key: product.name,\n        style: styles.cardBody,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(Card.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(Card.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, product.name)), React.createElement(Card.Subtitle, {\n        style: {\n          marginTop: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"$\", product.price), React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          justifyContent: 'center',\n          fontSize: 18\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(Image, {\n        style: {\n          width: 150,\n          marginBottom: 10\n        },\n        src: product.image,\n        rounded: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"x \", product.count), React.createElement(\"div\", {\n        style: {\n          marginTop: 10,\n          fontSize: 30\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"$\", product.price * product.count))))));\n    }\n\n    return products;\n  }\n\n  getTotalPrice() {\n    let price = 0;\n\n    for (const product of this.state.products) {\n      price += product.count * product.price;\n    }\n\n    return price;\n  }\n\n}\n\nconst styles = {\n  container: {\n    height: \"100%\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flexDirection: \"column\"\n  },\n  cardBody: {\n    width: 300\n  },\n  homeIcon: {\n    height: \"3em\",\n    width: \"3em\",\n    position: \"absolute\",\n    left: 10,\n    top: 0,\n    marginTop: \"0.5em\",\n    marginRight: \"0.5em\"\n  }\n};\nexport default CartReview;","map":{"version":3,"sources":["/Users/a-kun/Desktop/639/dialogflow-beta-2020/src/components/CartReview.js"],"names":["React","Link","Button","Card","Image","TiHome","CartReview","Component","constructor","props","state","products","componentDidMount","myHeaders","Headers","append","localStorage","getItem","requestOptions","method","headers","redirect","response","fetch","window","$ENDPOINT_URL","result","json","setState","render","length","username","margin","styles","homeIcon","container","fontSize","display","flexDirection","getProducts","getTotalPrice","buttonStyle","marginTop","product","push","id","category","name","cardBody","price","alignItems","justifyContent","width","marginBottom","image","count","height","position","left","top","marginRight"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"../styles/App.css\";\r\n\r\nimport {Link} from \"react-router-dom\";\r\n\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Image from \"react-bootstrap/Image\";\r\n\r\nimport { TiHome } from \"react-icons/ti\";\r\n\r\nclass CartReview extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      products: []\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let myHeaders = new Headers();\r\n    myHeaders.append(\"Content-Type\", \"application/json\");\r\n    myHeaders.append(\"x-access-token\", localStorage.getItem('token'));\r\n\r\n    var requestOptions = {\r\n      method: 'GET',\r\n      headers: myHeaders,\r\n      redirect: 'follow'\r\n    };\r\n\r\n    let response = await fetch(window.$ENDPOINT_URL + '/application/products', requestOptions);\r\n    let result = await response.json();\r\n\r\n    this.setState({products: result.products});\r\n  }\r\n\r\n  render() {\r\n    if(this.state.products.length === 0) {\r\n      return (\r\n        <>\r\n          <Link to={'/' + this.props.username} className='button' style={{margin: 20}}>\r\n            <TiHome style={styles.homeIcon} />\r\n          </Link>\r\n\r\n          <div style={{...styles.container, fontSize: 30}}>\r\n            Looks like you don't have any items in your cart\r\n          </div>\r\n        </>\r\n      )\r\n    }\r\n    return (\r\n      <>\r\n        <Link to={'/' + this.props.username} className='button' style={{margin: 20}}>\r\n          <TiHome style={styles.homeIcon} />\r\n        </Link>\r\n\r\n        <div style={{...styles.container, fontSize: 30}}>\r\n          <p style={{fontSize: 40}}>Confirm your order</p>\r\n          <div style={{display: 'flex', flexDirection: 'row'}}>{this.getProducts()}</div>\r\n          Total: ${this.getTotalPrice()}\r\n          <Link to={'/' + this.props.username + '/cart-confirmed'} className='basic'>\r\n            <Button variant=\"outline-dark\" style={{...styles.buttonStyle, marginTop: 20}}>\r\n              Confirm\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  getProducts() {\r\n    let products = [];\r\n\r\n    for(const product of this.state.products) {\r\n      products.push(\r\n        <Link key={product.id} to={'/' + this.props.username + '/' + product.category + '/products/' + product.id} className='basic' style={{margin: '1em'}}>\r\n          <Card key={product.name} style={styles.cardBody}>\r\n            <Card.Body>\r\n              <Card.Title>\r\n                <h2>{product.name}</h2>\r\n              </Card.Title>\r\n              <Card.Subtitle style={{ marginTop: 5 }}>\r\n                ${product.price}\r\n              </Card.Subtitle>\r\n              <div style={{display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', fontSize: 18}}>\r\n                <Image style={{ width: 150, marginBottom: 10 }} src={product.image} rounded/>\r\n                <div>x {product.count}</div>\r\n                <div style={{marginTop: 10, fontSize: 30}}>${product.price * product.count}</div>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n        </Link>\r\n      );\r\n    }\r\n\r\n    return products;\r\n  }\r\n\r\n\r\n  getTotalPrice() {\r\n    let price = 0;\r\n\r\n    for(const product of this.state.products) {\r\n      price += product.count * product.price\r\n    }\r\n\r\n    return price\r\n  }\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    flexDirection: \"column\"\r\n  },\r\n  cardBody: {\r\n    width: 300\r\n  },\r\n  homeIcon: {\r\n    height: \"3em\",\r\n    width: \"3em\",\r\n    position: \"absolute\",\r\n    left: 10,\r\n    top: 0,\r\n    marginTop: \"0.5em\",\r\n    marginRight: \"0.5em\"\r\n  }\r\n};\r\n\r\nexport default CartReview;\r\n"]},"metadata":{},"sourceType":"module"}